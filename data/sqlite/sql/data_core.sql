PRAGMA foreign_keys = ON;

DROP TABLE IF EXISTS `PAPERS`;

CREATE TABLE `PAPERS`(
    `ID` VARCHAR(100) PRIMARY KEY,
    `DOI` VARCHAR(100) DEFAULT NULL,
    `TITLE` VARCHAR(500) NOT NULL,
    `ABSTRACT` VARCHAR(500) DEFAULT NULL,
    `PUBLISHED_YEAR` INT NOT NULL,
    `JOURNAL` VARCHAR(100) DEFAULT NULL,
    `VOLUME` INT DEFAULT NULL,
    `ISSUE` INT DEFAULT NULL,
    `PAGES` VARCHAR(100) DEFAULT NULL,
    `COVIDENCE` INT DEFAULT NULL
);

DROP TABLE IF EXISTS `PAPER_KEYWORDS`;

CREATE TABLE `PAPER_KEYWORDS`(
    `KEYWORD` VARCHAR(100) NOT NULL,
    `PAPER_ID` VARCHAR(100) NOT NULL,
    `WEIGHT` INT NOT NULL,
    UNIQUE(KEYWORD, PAPER_ID),
    FOREIGN KEY(PAPER_ID) REFERENCES PAPERS(ID)
);

DROP TABLE IF EXISTS `AUTHORS`;

CREATE TABLE `AUTHORS`(
    `AUTHOR` VARCHAR(100) NOT NULL,
    `PAPER_ID` VARCHAR(100) NOT NULL,
    UNIQUE(AUTHOR, PAPER_ID),
    FOREIGN KEY(PAPER_ID) REFERENCES PAPERS(ID)
);

DROP TABLE IF EXISTS `SECTORS`;

CREATE TABLE `SECTORS`(
    `SECTOR` VARCHAR(100) NOT NULL,
    `PAPER_ID` VARCHAR(100) NOT NULL,
    UNIQUE(SECTOR, PAPER_ID),
    FOREIGN KEY(PAPER_ID) REFERENCES PAPERS(ID)
);

DROP TABLE IF EXISTS `COUNTRY`;

CREATE TABLE `COUNTRY`(
    `COUNTRY_NAME` VARCHAR(100) NOT NULL,
    `PAPER_ID` VARCHAR(100) NOT NULL,
    UNIQUE(COUNTRY_NAME, PAPER_ID),
    FOREIGN KEY(PAPER_ID) REFERENCES PAPERS(ID)
);

DROP TABLE IF EXISTS `THEME`;

CREATE TABLE `THEME`(
    `PRIMARY_THEME` VARCHAR(100) NOT NULL,
    `SECONDARY_THEME` VARCHAR(100) NOT NULL,
    `PAPER_ID` VARCHAR(100) NOT NULL,
    UNIQUE(PRIMARY_THEME, PAPER_ID),
    UNIQUE(SECONDARY_THEME, PAPER_ID),
    FOREIGN KEY(PAPER_ID) REFERENCES PAPERS(ID)
);